services:
  s3-backup:
    build: .
    container_name: s3-backup-service
    restart: unless-stopped
    env_file:
      - .env
    volumes:
      # Mount the folder you want to backup (read-only)
      - ${BACKUP_SOURCE}:/data:ro
      # Mount logs directory for persistence
      - ./logs:/logs
    environment:
      - S3_ACCESS_KEY=${S3_ACCESS_KEY}
      - S3_SECRET_KEY=${S3_SECRET_KEY}
      - S3_BUCKET=${S3_BUCKET}
      - S3_ENDPOINT=${S3_ENDPOINT}
      - S3_REGION=${S3_REGION}
      - BACKUP_FOLDER_NAME=${BACKUP_FOLDER_NAME}
